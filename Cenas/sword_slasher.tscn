[gd_scene load_steps=12 format=3 uid="uid://cyfp7mi73rcru"]

[ext_resource type="Script" uid="uid://dmqgg31yrogqk" path="res://Scripts/camera_2d.gd" id="1_86t8k"]
[ext_resource type="PackedScene" uid="uid://d32opfj2b70wa" path="res://Cenas/salaDungeon.glb" id="1_tq7cw"]
[ext_resource type="Script" uid="uid://dbqgl5mbnjqef" path="res://Scripts/player.gd" id="2_61tt7"]
[ext_resource type="Script" uid="uid://cs2lpej1i4tep" path="res://Scripts/lista_de_comandos.gd" id="3_61tt7"]
[ext_resource type="Texture2D" uid="uid://g51kxb32ni4" path="res://Assets/Finais/flecha azul H.png" id="5_amkhj"]
[ext_resource type="Texture2D" uid="uid://cgvd2v3wk7m05" path="res://Assets/Finais/Inimigo neutro.png" id="5_mq458"]
[ext_resource type="Texture2D" uid="uid://b35u884qfai6e" path="res://Assets/Finais/Impacto.png" id="6_2v1cl"]
[ext_resource type="Texture2D" uid="uid://b61vs3gsdfr7v" path="res://Assets/Finais/player defesa.png" id="6_amkhj"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_86t8k"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_tq7cw"]
sky_material = SubResource("ProceduralSkyMaterial_86t8k")

[sub_resource type="Environment" id="Environment_86t8k"]
background_mode = 2
sky = SubResource("Sky_tq7cw")
tonemap_mode = 2
ssao_enabled = true
sdfgi_enabled = true
glow_enabled = true

[node name="sword slasher" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_86t8k")

[node name="3D" type="Node3D" parent="."]

[node name="salaDungeon" parent="3D" instance=ExtResource("1_tq7cw")]

[node name="Camera2D" type="Camera3D" parent="3D"]
transform = Transform3D(1, 0, 0, 0, 0.999883, 0.0153234, 0, -0.0153234, 0.999883, 0, 1.06532, 1.91102)
script = ExtResource("1_86t8k")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UI" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1

[node name="Área vísivel da lista" type="Control" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -50.0
offset_right = 50.0
offset_bottom = 285.0
grow_horizontal = 2

[node name="Lista de Comandos" type="Control" parent="CanvasLayer/UI/Área vísivel da lista"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -50.0
offset_right = 50.0
offset_bottom = 214.0
grow_horizontal = 2
script = ExtResource("3_61tt7")

[node name="Flechas" type="Control" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos"]
anchors_preset = 0

[node name="Pos0" type="Marker2D" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos"]
visible = false
position = Vector2(50, 130)

[node name="Flechah2" type="Sprite2D" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos/Pos0"]
scale = Vector2(0.2, 0.199)
texture = ExtResource("5_amkhj")

[node name="Pos1" type="Marker2D" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos"]
visible = false
position = Vector2(50, 304)

[node name="Flechah2" type="Sprite2D" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos/Pos1"]
scale = Vector2(0.1, 0.1)
texture = ExtResource("5_amkhj")

[node name="Pos2" type="Marker2D" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos"]
visible = false
position = Vector2(50, 401)

[node name="Flechah2" type="Sprite2D" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos/Pos2"]
scale = Vector2(0.066, 0.066)
texture = ExtResource("5_amkhj")

[node name="Pos3" type="Marker2D" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos"]
visible = false
position = Vector2(50, 469)

[node name="Flechah2" type="Sprite2D" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos/Pos3"]
scale = Vector2(0.05, 0.05)
texture = ExtResource("5_amkhj")

[node name="fora" type="Marker2D" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos"]
visible = false
position = Vector2(50, 522)

[node name="Flechah2" type="Sprite2D" parent="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos/fora"]
scale = Vector2(0.04, 0.04)
texture = ExtResource("5_amkhj")

[node name="Aparecer flecha" type="Timer" parent="CanvasLayer/UI"]
autostart = true

[node name="Reset sprites" type="Timer" parent="CanvasLayer/UI"]
wait_time = 0.3
one_shot = true

[node name="Inimigo" type="TextureRect" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -263.0
offset_top = -633.0
offset_right = 263.0
offset_bottom = 58.5127
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("5_mq458")
expand_mode = 5
stretch_mode = 5

[node name="impacto esquerda" type="TextureRect" parent="CanvasLayer/UI"]
visible = false
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -247.0
offset_top = -590.0
offset_right = -10.0
offset_bottom = -81.0
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("6_2v1cl")
expand_mode = 5
stretch_mode = 5

[node name="impacto direita" type="TextureRect" parent="CanvasLayer/UI"]
visible = false
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 56.0
offset_top = -585.0
offset_right = 293.0
offset_bottom = -76.0
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("6_2v1cl")
expand_mode = 5
stretch_mode = 5
flip_h = true
flip_v = true

[node name="Player" type="TextureRect" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -263.0
offset_top = -436.365
offset_right = 263.0
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("6_amkhj")
expand_mode = 5
stretch_mode = 5
script = ExtResource("2_61tt7")

[node name="Barra de vida" type="HBoxContainer" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -173.5
offset_top = -149.0
offset_right = 173.5
grow_horizontal = 2
grow_vertical = 0

[node name="Vida" type="TextureRect" parent="CanvasLayer/UI/Barra de vida"]
layout_mode = 2
texture = ExtResource("6_2v1cl")
expand_mode = 3

[node name="Vida2" type="TextureRect" parent="CanvasLayer/UI/Barra de vida"]
layout_mode = 2
texture = ExtResource("6_2v1cl")
expand_mode = 3

[node name="Vida3" type="TextureRect" parent="CanvasLayer/UI/Barra de vida"]
layout_mode = 2
texture = ExtResource("6_2v1cl")
expand_mode = 3

[connection signal="Swipe" from="3D/Camera2D" to="CanvasLayer/UI/Área vísivel da lista" method="_on_camera_2d_swipe"]
[connection signal="Swipe" from="3D/Camera2D" to="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos" method="_on_camera_2d_swipe"]
[connection signal="Swipe" from="3D/Camera2D" to="CanvasLayer/UI/Player" method="_on_camera_2d_swipe"]
[connection signal="timeout" from="CanvasLayer/UI/Aparecer flecha" to="CanvasLayer/UI/Área vísivel da lista/Lista de Comandos" method="_on_aparecer_flecha_timeout"]
[connection signal="timeout" from="CanvasLayer/UI/Reset sprites" to="CanvasLayer/UI/Player" method="_on_reset_sprites_timeout"]
